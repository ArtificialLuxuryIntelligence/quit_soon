/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2020 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function(i){"use strict";i("#sidebarToggle, #sidebarToggleTop").on("click",function(e){i("body").toggleClass("sidebar-toggled"),i(".sidebar").toggleClass("toggled"),i(".sidebar").hasClass("toggled")&&i(".sidebar .collapse").collapse("hide")}),i(window).resize(function(){i(window).width()<768&&i(".sidebar .collapse").collapse("hide")}),i("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){if(768<i(window).width()){var s=e.originalEvent,r=s.wheelDelta||-s.detail;this.scrollTop+=30*(r<0?1:-1),e.preventDefault()}}),i(document).on("scroll",function(){100<i(this).scrollTop()?i(".scroll-to-top").fadeIn():i(".scroll-to-top").fadeOut()}),i(document).on("click","a.scroll-to-top",function(e){var s=i(this);i("html, body").stop().animate({scrollTop:i(s.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()}),i(".pass-status").on("click",function(e){var s=i(".password-field"),r=i(".pass-status");"password"==s.prop("type")?(s.prop("type","text"),r.toggleClass("fa-eye fa-eye-slash")):(s.prop("type","password"),r.toggleClass("fa-eye-slash fa-eye"))}),i(".form-with-password").on("submit",function(e){return i(".password-field").prop("type","password"),!0}),i("#NewNameForm").on("submit",function(e){i(this);var r=i(this).find("input[type=submit]");i(".username-error").css("display","none"),i(".newname-error").css("display","none"),e.preventDefault(),i.ajax({url:"/new_name/",type:"POST",data:i(this).serialize()}).done(function(e){var s=jQuery.parseJSON(e);"success"==s.response?(document.location.reload(!0),i("#modal_change_username").modal("hide")):("name already in db"==s.response?i(".username-error").css("display","block"):i(".newname-error").css("display","block"),r.prop("disabled",!1))})}),i("#NewEmailForm").on("submit",function(e){i(this);var r=i(this).find("input[type=submit]");i(".newemail-error").css("display","none"),i(".dbemail-error").css("display","none"),e.preventDefault(),i.ajax({url:"/new_email/",type:"POST",data:i(this).serialize()}).done(function(e){var s=jQuery.parseJSON(e);"success"==s.response?(document.location.reload(!0),i("#modal_change_email").modal("hide")):("email already in DB"==s.response?i(".dbemail-error").css("display","block"):i(".newemail-error").css("display","block"),r.prop("disabled",!1))})}),i("#NewPasswordForm").on("submit",function(e){i(this);var r=i(this).find("input[type=submit]");i(".oldpwd-error").css("display","none"),i(".newpwd-error").css("display","none"),i(".dbpwd-error").css("display","none"),i(".newpassword-error").css("display","none"),e.preventDefault(),i.ajax({url:"/new_password/",type:"POST",data:i(this).serialize()}).done(function(e){var s=jQuery.parseJSON(e);"success"==s.response?(document.location.reload(!0),i("#modal_change_password").modal("hide")):("incorrect old password"==s.response?i(".oldpwd-error").css("display","block"):"new password not confirmed"==s.response?i(".dbpwd-error").css("display","block"):"incorrect newpassword"==s.response?i(".newpwd-error").css("display","block"):i(".newpassword-error").css("display","block"),r.prop("disabled",!1))})}),i("#NewParametersForm").on("submit",function(e){i(this);var s=i(this).find("input[type=submit]");i(".newparameters-error").css("display","none"),e.preventDefault(),i.ajax({url:"/new_parameters/",type:"POST",data:i(this).serialize()}).done(function(e){"success"==jQuery.parseJSON(e).response?(document.location.reload(!0),i("#modal_starting_parameters").modal("hide")):(i(".newparameters-error").css("display","block"),s.prop("disabled",!1))})}),i(".cig-change").on("click",function(e){"submit"==i(this).attr("id")?(i(this).siblings(".form-cig-change").find("input[type=number]").attr("type","hidden"),i(this).siblings(".form-cig-change").submit()):(e.preventDefault(),i(".cig-change").prev().removeClass("hide").addClass("show"),i(".cig-change").siblings(".form-cig-change").removeClass("show").addClass("hide"),i(".cig-change").removeAttr("id","submit"),i(this).prev().removeClass("show").addClass("hide"),i(this).siblings(".form-cig-change").removeClass("hide").addClass("show"),i(this).attr("id","submit"))}),i("#id_substitut").prop("required",!1),i("#id_nicotine").prop("required",!1),i("#id_type_activity").prop("required",!0),i("#id_activity").prop("required",!0),i(".activity_form").removeClass("hide").addClass("show"),i(".substitut_form").removeClass("show").addClass("hide"),i("#id_type_alternative").on("change",function(e){"Su"==i(this).val()?(i("#id_type_activity").prop("required",!1).val(""),i("#id_activity").prop("required",!1).val(""),i("#id_substitut").prop("required",!0),i("#id_nicotine").prop("required",!0),i(".activity_form").removeClass("show").addClass("hide"),i(".substitut_form").removeClass("hide").addClass("show")):(i("#id_substitut").prop("required",!1).val(""),i("#id_nicotine").prop("required",!1).val(""),i("#id_type_activity").prop("required",!0),i("#id_activity").prop("required",!0),i(".activity_form").removeClass("hide").addClass("show"),i(".substitut_form").removeClass("show").addClass("hide"))})}(jQuery);