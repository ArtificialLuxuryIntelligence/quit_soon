/*!
 * Start Bootstrap -  v1.0.0 ()
 * Copyright 2013-2020 
 * Licensed under  (https://github.com/BlackrockDigital/quit_soon/blob/master/LICENSE)
 */

!function(e){"use strict";e("#sidebarToggle, #sidebarToggleTop").on("click",(function(s){e("body").toggleClass("sidebar-toggled"),e(".sidebar").toggleClass("toggled"),e(".sidebar").hasClass("toggled")&&e(".sidebar .collapse").collapse("hide")})),e(window).resize((function(){e(window).width()<768&&e(".sidebar .collapse").collapse("hide")})),e("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",(function(s){if(e(window).width()>768){var a=s.originalEvent,i=a.wheelDelta||-a.detail;this.scrollTop+=30*(i<0?1:-1),s.preventDefault()}})),e(document).on("scroll",(function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()})),e(document).on("click","a.scroll-to-top",(function(s){var a=e(this);e("html, body").stop().animate({scrollTop:e(a.attr("href")).offset().top},1e3,"easeInOutExpo"),s.preventDefault()})),e(".pass-status").on("click",(function(s){var a=e(".password-field"),i=e(".pass-status");"password"==a.prop("type")?(a.prop("type","text"),i.toggleClass("fa-eye fa-eye-slash")):(a.prop("type","password"),i.toggleClass("fa-eye-slash fa-eye"))})),e(".form-with-password").on("submit",(function(s){return e(".password-field").prop("type","password"),!0})),e("#NewNameForm").on("submit",(function(s){e(this);var a=e(this).find("input[type=submit]");e(".username-error").css("display","none"),e(".newname-error").css("display","none"),s.preventDefault(),e.ajax({url:"/new_name/",type:"POST",data:e(this).serialize()}).done((function(s){var i=jQuery.parseJSON(s);"success"==i.response?(document.location.reload(!0),e("#modal_change_username").modal("hide")):"name already in db"==i.response?(e(".username-error").css("display","block"),a.prop("disabled",!1)):(e(".newname-error").css("display","block"),a.prop("disabled",!1))}))})),e("#NewEmailForm").on("submit",(function(s){e(this);var a=e(this).find("input[type=submit]");e(".newemail-error").css("display","none"),e(".dbemail-error").css("display","none"),s.preventDefault(),e.ajax({url:"/new_email/",type:"POST",data:e(this).serialize()}).done((function(s){var i=jQuery.parseJSON(s);"success"==i.response?(document.location.reload(!0),e("#modal_change_email").modal("hide")):"email already in DB"==i.response?(e(".dbemail-error").css("display","block"),a.prop("disabled",!1)):(e(".newemail-error").css("display","block"),a.prop("disabled",!1))}))})),e("#NewPasswordForm").on("submit",(function(s){e(this);var a=e(this).find("input[type=submit]");e(".oldpwd-error").css("display","none"),e(".newpwd-error").css("display","none"),e(".dbpwd-error").css("display","none"),e(".newpassword-error").css("display","none"),s.preventDefault(),e.ajax({url:"/new_password/",type:"POST",data:e(this).serialize()}).done((function(s){var i=jQuery.parseJSON(s);"success"==i.response?(document.location.reload(!0),e("#modal_change_password").modal("hide")):"incorrect old password"==i.response?(e(".oldpwd-error").css("display","block"),a.prop("disabled",!1)):"new password not confirmed"==i.response?(e(".dbpwd-error").css("display","block"),a.prop("disabled",!1)):"incorrect newpassword"==i.response?(e(".newpwd-error").css("display","block"),a.prop("disabled",!1)):(e(".newpassword-error").css("display","block"),a.prop("disabled",!1))}))})),e("#noprofile").length&&e("#modal_starting_parameters").modal("show"),e("#NewParametersForm").on("submit",(function(s){e("#choose_existing_pack").hasClass("active")?(e("#id_type_cig").val(""),e("#id_brand").val(""),e("#id_qt_paquet").val(""),e("#id_price").val("")):e("#create_pack_choice").hasClass("active")&&e("#id_ref_pack").val(""),document.location.reload(!0)})),newparameterspackform(),e(".nav li").on("click",(function(){e(".nav li").removeClass("active"),e(this).addClass("active"),newparameterspackform()})),e(".fa-smoking").on("click",(function(){e("#id_type_cig").prop("required",!0).removeClass("hide").addClass("show")})),e(".cig-change").on("click",(function(s){"submit"==e(this).attr("id")?(e(this).siblings(".form-cig-change").find("input[type=number]").attr("type","hidden"),e(this).siblings(".form-cig-change").submit()):(s.preventDefault(),e(".cig-change").prev().removeClass("hide").addClass("show"),e(".cig-change").siblings(".form-cig-change").removeClass("show").addClass("hide"),e(".cig-change").removeAttr("id","submit"),e(this).prev().removeClass("show").addClass("hide"),e(this).siblings(".form-cig-change").removeClass("hide").addClass("show"),e(this).attr("id","submit"))})),e("#alternativeform select[id=id_substitut]").prop("required",!1),e("#alternativeform input[id=id_nicotine]").prop("required",!1),e("#alternativeform select[id=id_type_activity]").prop("required",!0),e("#alternativeform input[id=id_activity]").prop("required",!0),e(".activity_form").removeClass("hide").addClass("show"),e(".substitut_form").removeClass("show").addClass("hide"),e("#alternativeform select[id=id_type_alternative]").on("change",(function(s){console.log(e(this).val()),"Su"==e(this).val()?(e(".activity_form").removeClass("show").addClass("hide"),e(".substitut_form").removeClass("hide").addClass("show"),e("#alternativeform input[id=id_activity]").prop("required",!1).val(""),e("#alternativeform select[id=id_substitut]").prop("required",!0),e("#alternativeform input[id=id_nicotine]").prop("required",!0)):(e(".activity_form").removeClass("hide").addClass("show"),e(".substitut_form").removeClass("show").addClass("hide"),e("#alternativeform select[id=id_substitut]").prop("required",!1).val(""),e("#alternativeform input[id=id_nicotine]").prop("required",!1).val(""),e("#alternativeform select[id=id_type_activity]").prop("required",!0),e("#alternativeform input[id=id_activity]").prop("required",!0))})),displayPaquetsFields(),e("#id_given_field").change((function(){this.checked?(e(".show").removeClass("show").addClass("hide"),e(".showtypes").removeClass("showtypes").addClass("hidetypes")):(e(".hidetypes").removeClass("hidetypes").addClass("showtypes"),displayPaquetsFields())})),e("#id_type_cig_field").on("change",(function(s){e(".show").removeClass("show").addClass("hide"),displayPaquetsFields()})),displayAlternativeFields(),e("#id_type_alternative_field").on("change",(function(s){e(".show").removeClass("show").addClass("hide"),e("#id_duration_hour").removeClass("hide").addClass("show"),e("#id_duration_min").removeClass("hide").addClass("show"),displayAlternativeFields()})),e("#healthform select[id=id_su_field]").on("change",(function(e){displayAlternativeFields()}))}(jQuery);var dateField=document.querySelector(".currentDate"),timeField=document.querySelector(".currentTime"),date=new Date;function displayPaquetsFields(){"IND"==$("#id_type_cig_field").val()?$("#id_ind_pack_field").removeClass("hide").addClass("show"):"ROL"==$("#id_type_cig_field").val()&&$("#id_rol_pack_field").removeClass("hide").addClass("show")}function displayAlternativeFields(){var e={type_alternative_field:$("#healthform select[name=type_alternative_field]").serialize(),su_field:$("#healthform select[name=su_field]").serialize()};$.ajax({url:"/su_ecig/",type:"GET",data:e}).done((function(e){"true"==jQuery.parseJSON(e).response?($("#id_ecig_vape_or_start").removeClass("hide").addClass("show"),$("#id_ecig_vape_or_start_0").removeClass("hide").addClass("show"),$("#id_ecig_vape_or_start_1").removeClass("hide").addClass("show")):($("#id_ecig_vape_or_start").removeClass("show").addClass("hide"),$("#id_ecig_vape_or_start_0").removeClass("show").addClass("hide"),$("#id_ecig_vape_or_start_1").removeClass("show").addClass("hide"))})),"Sp"==$("#id_type_alternative_field").val()?$("#id_sp_field").removeClass("hide").addClass("show"):"So"==$("#id_type_alternative_field").val()?$("#id_so_field").removeClass("hide").addClass("show"):"Lo"==$("#id_type_alternative_field").val()?$("#id_lo_field").removeClass("hide").addClass("show"):"Su"==$("#id_type_alternative_field").val()&&($("#id_su_field").removeClass("hide").addClass("show"),$("#id_duration_hour").removeClass("show").addClass("hide"),$("#id_duration_min").removeClass("show").addClass("hide"))}function newparameterspackform(){$("#choose_existing_pack").hasClass("active")&&(console.log("choose_existing_pack"),$("#existing_packs").removeClass("hide").addClass("show"),$(".newpackform").removeClass("show").addClass("hide"),$("#id_ref_pack").prop("required",!0),$("#id_type_cig").prop("required",!1),$("#id_brand").prop("required",!1),$("#id_qt_paquet").prop("required",!1),$("#id_price").prop("required",!1)),$("#create_pack_choice").hasClass("active")&&(console.log("create_pack_choice"),$(".newpackform").removeClass("hide").addClass("show"),$("#existing_packs").removeClass("show").addClass("hide"),$("#id_ref_pack").prop("required",!1),$("#id_type_cig").prop("required",!0),$("#id_brand").prop("required",!0),$("#id_qt_paquet").prop("required",!0),$("#id_price").prop("required",!0))}dateField&&(dateField.value=date.getFullYear().toString()+"-"+(date.getMonth()+1).toString().padStart(2,0)+"-"+date.getDate().toString().padStart(2,0)),timeField&&(timeField.value=date.getHours().toString().padStart(2,0)+":"+date.getMinutes().toString().padStart(2,0));